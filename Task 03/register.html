<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Regiteration Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />

</head>

<body>
    <form action="profile.html" method="GET">
        <div class="container">
            <h1>Register</h1>
            <p>Please fill in this form to Register.</p>
            <hr>

            <label for="fullname"><b>Full Name</b></label>
            <input type="text" placeholder="Enter Full Name" name="fullname" id="fullname" required>

            <label for="username"><b>User Name</b></label>
            <input type="text" placeholder="Enter username" name="username" id="username" minlength="6" required>

            <label for="password"><b>Password</b>
                <input type="password" placeholder="Enter Password" name="password" id="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
                title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" onkeyup='check();'
                    minlength="8" required></label>

            <label for="confirm_password"><b>Confirm Password </b><span id='message'></span>
                <input type="password" placeholder="Confirm Password" name="confirm_password" onkeyup='check();' id="confirm_password"
                    minlength="8" required></label>

            <label for="email"><b>Email</b></label>
            <input type="email" placeholder="Enter Email" name="email" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>

            <label for="mobile"><b>Mobile Number</b></label>
            <input type="text" placeholder="Enter mobile number" name="mobile" id="mobile" maxlength="10" required>

            <label for="address"><b>Address</b></label>
            <input type="text" placeholder="Enter your street" name="street" id="street" required>
            <input type="text" placeholder="Enter your city" name="city" id="city" required>
            <input type="text" placeholder="Enter your postalcode" name="postalcode" id="postalcode" required>

            <label for="pic"><b>Profile Picture<pre></pre> </b></label>
            
            <input id="inp" type='file' onchange="previewFile()" required>
            <img id="img" height="150">
            <!-- <img src="" height="200" alt="Image preview..."> -->
            <hr>
            <input type="submit" value="Submit" class="registerbtn" />
        </div>
    </form>

    <script>
        function previewFile() {
            var preview = document.querySelector('img'); //selects the query named img
            var file = document.querySelector('input[type=file]').files[0]; //sames as here
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file); //reads the data as a URL
            } else {
                preview.src = "";
            }
        }
        previewFile();  //calls the function named previewFile()

        var check = function () {
            if (document.getElementById('password').value ==
                document.getElementById('confirm_password').value) {
                document.getElementById('message').style.color = 'green';
                document.getElementById('message').innerHTML = 'matching';

            } else {
                document.getElementById('message').style.color = 'red';
                document.getElementById('message').innerHTML = 'not matching';
                document.getElementById('submit').disabled = true;
            }
        }

        var checksubmit = function () {
            if (check() = false) {
                document.getElementById('submit').disabled = true;
            } else {
                document.getElementById('submit').disabled = false;
            }
        }


    </script>


</body>

</html>