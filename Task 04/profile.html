<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Profile Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" media="screen" href="profile.css" />

</head>

<body>

  <div class="profile">

    <form action="register.html" method="POST">

      <div class="profilecontainer"><br>
        <img id="b64" src="" alt="Avatar" class="avatar"><br>
        
        
        <label for="fullname"><b>
            <p id="fullname"></p>
          </b></label><br>
        <hr>
        <label for="username"><b>
            <p id="username"></p>
          </b></label>
        <hr>
        <label for="password"><b>
            <p id="password"></p>
          </b></label>
        <hr>
        <label for="email"><b>
            <p id="email"></p>
          </b></label>
        <hr>
        <label for="mobile"><b>
            <p id="mobile"></p>
          </b></label>
        <hr>
        <label for="address"><b>
            <p id="address"></p>
          </b></label>
        <hr>
        
      </div>
    </form>
  
    <p id="fullname"></p>
    <p id="username"></p>
    <p id="password"></p>
    <p id="email"></p>
    <p id="mobile"></p>
    <p id="address"></p>
    <p id="subject"></p>

    <script>
      function getQueryString() {
        var result = {}, queryString = location.search.slice(1),
          re = /([^&=]+)=([^&]*)/g, m;

        while (m = re.exec(queryString)) {
          result[decodeURIComponent(m[1])] = decodeURIComponent(m[2]);
        }
        return result;
      }

      let image = getQueryString()["imageB64"];
      console.log("q");
      document.getElementById("b64").setAttribute('src', image);
      console.log("image", image);
      let fullname = getQueryString()["fullname"];
      document.getElementById("fullname").innerHTML = fullname;
      let username = getQueryString()["username"];
      document.getElementById("username").innerHTML = "User Name : " + username;
      let password = getQueryString()["password"];
      document.getElementById("password").innerHTML = "Password : " + password;
      let email = getQueryString()["email"];
      document.getElementById("email").innerHTML = "Email : " + email;
      let mobile = getQueryString()["mobile"];
      document.getElementById("mobile").innerHTML = "Mobile Number : " + mobile;

      let street = getQueryString()["street"];
      let city = getQueryString()["city"];
      let postalcode = getQueryString()["postalcode"];

      let address = street.concat(", " + city + ", " + postalcode);
      document.getElementById("address").innerHTML = "Address : " + address;


    </script>
  </div> 
  <!-- end profile class


  <!-- subjects -->
  <div class="subjects">
    <div class="subjectcontainer">

      <h3>Insert Your Subjects</h3>
      <hr>
      <label for="priority"><b>Priority</b></label>
      <input type="number" name="priority" id="priority" required>

      <label for="subjectname"><b>Subject Name</b></label>
      <input type="text" placeholder="Enter subjectname" name="subjectname" id="subjectname" required>

      <input type=submit value='Add Subjects' class="addsubjectbtn" onclick='addElement()' ;>
      <hr>

      <p id="display"></p>
      <pre id="log"></pre>
    </div>

    <script>

      var subjects = [];

      function addElement() {
        var priority = document.getElementById('priority').value;

        var subjectname = document.getElementById('subjectname').value;

        var subjectObj = {

          priority: priority,
          subjectname: subjectname

        };
        subjects.push(subjectObj);
        subjects.sort((a, b) => { return b.priority - a.priority }); //arrow function
        // subjects.reverse(); // this also working decending to sorted array
        // subjects.toString();
        // document.getElementById("display").innerHTML = subjects;


        console.log('subjects', subjects);
        
        // view();
      }

      (function view() {
        var old = console.log;
        var logger = document.getElementById('log');
        console.log = function view() {
          for (var i = 0; i < arguments.length; i++) {
            if (typeof arguments[i] == 'object') {
              logger.innerHTML += (JSON && JSON.stringify ? JSON.stringify(arguments[i], undefined, 2) : arguments[i]) + '<br />';
            } else {
              logger.innerHTML += arguments[i] + '<br />';
            }
          }
        }
      })();


    </script>
  </div>

</body>

</html>